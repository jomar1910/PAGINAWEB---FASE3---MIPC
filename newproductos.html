<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
     <link rel="stylesheet" href="dashboard.css">

</head>
<body>
<nav class="navbar navbar-expand-lg shadow bg-body-tertiary rounded">
  <div class="container-fluid">
    <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
         <img src="images/17654.png" class="barras rounded" alt="">
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
        </ul>
    </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active mx-3 " aria-current="page" href="#"> 
            <img src="/images/6522581.png" class=" rounded " alt=""> 
            <h6>perfil</h6></a>
        </li>
        <li class="nav-item">
          <a class="nav-link active mx-3 " aria-current="page" href="#"> 
            <img src="/images/6063673.png" class=" rounded " alt=""> 
            <h6>cuenta</h6></a>
        </li>
        <li class="nav-item">
          <a class="nav-link active mx-3 " aria-current="page" href="#"> 
            <img src="/images/3144456.png" class=" rounded " alt=""> 
            <h6>compra</h6></a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link active mx-3 " aria-current="page" href="#"> 
            <img src="/images/30240.png" class=" rounded " alt=""> 
            <h6>admin</h6></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container min-vh-100 d-flex justify-content-center align-items-center">
  <div class="row flex-grow-1 w-100">

    <!-- Secci칩n de imagen -->
    <div class="col-12 col-lg-6 mb-4 d-flex align-items-center">
      <div class="card border border-dark text-dark rounded w-100 p-4">
        <h2 class="text-center mb-4">Agregar Imagen del Producto</h2>
        <form id="formImagen">
          <div class="mb-3">
            <label for="inputImagen" class="form-label">Selecciona una imagen</label>
            <input type="file" class="form-control" id="inputImagen" accept="image/*" required>
          </div>
          <div class="text-center">
            <img id="previewImagen" src="" alt="Vista previa" class="img-fluid mt-3 d-none border rounded" style="max-height: 200px;">
          </div>
        </form>

             <!-- Lista de productos agregados -->
  <div class="row mt-5 w-100">
    <div class="col-12">
      <div class="card border border-dark p-3">
        <h4>Productos registrados:</h4>
        <ul id="listaProductos" class="list-group"></ul>
      </div>
    </div>
  </div>
  
      </div>

  
  
    </div>

    <!-- Secci칩n de datos -->
    <div class="col-12 col-lg-6 d-flex align-items-center">
      <div class="card border border-dark text-dark rounded w-100 p-4">
        <h2 class="text-center mb-4">Datos del Producto</h2>
        <form id="formProducto">
          <div class="mb-3">
            <label for="nombreProducto" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombreProducto" required>
          </div>
          <div class="mb-3">
            <label for="descripcionProducto" class="form-label">Descripci칩n</label>
            <textarea class="form-control" id="descripcionProducto" rows="2" required></textarea>
          </div>
          <div class="mb-3">
            <label for="precioProducto" class="form-label">Precio</label>
            <input type="number" class="form-control" id="precioProducto" required>
          </div>
          <div class="mb-3">
            <label for="stockProducto" class="form-label">Stock</label>
            <input type="number" class="form-control" id="stockProducto" required>
          </div>
          <button type="submit" class="btn btn-success w-100">Dar de alta</button>
        </form>
      </div>
    </div>

  </div>

 </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
 <script>
  const formProducto = document.getElementById("formProducto");
  const inputImagen = document.getElementById("inputImagen");
  const preview = document.getElementById("previewImagen");
  const listaProductos = document.getElementById("listaProductos");

  let imagenBase64 = "";

  // Mostrar vista previa de imagen
  inputImagen.addEventListener("change", function () {
    const archivo = this.files[0];
    if (archivo) {
      const reader = new FileReader();
      reader.onload = function (e) {
        imagenBase64 = e.target.result;
        preview.src = imagenBase64;
        preview.classList.remove("d-none");
      };
      reader.readAsDataURL(archivo);
    }
  });

  // Obtener productos de localStorage
  function obtenerProductos() {
    const productos = localStorage.getItem("productos");
    return productos ? JSON.parse(productos) : [];
  }

  // Guardar productos en localStorage
  function guardarProductos(productos) {
    localStorage.setItem("productos", JSON.stringify(productos));
  }

  // Agregar producto a la lista visual
  function agregarProductoVisual(producto) {
    const li = document.createElement("li");
    li.classList.add("list-group-item", "d-flex", "align-items-center", "gap-3");
    li.innerHTML = `
      <img src="${producto.imagen}" alt="img" style="width: 50px; height: 50px;" class="border rounded">
      <div>
        <strong>${producto.nombre}</strong><br>
        ${producto.descripcion} - $${producto.precio} - Stock: ${producto.stock}
      </div>
    `;
    listaProductos.appendChild(li);
  }

  // Cargar productos al cargar la p치gina
  window.addEventListener("DOMContentLoaded", () => {
    const productos = obtenerProductos();
    productos.forEach(agregarProductoVisual);
  });

  // Evento al enviar el formulario
  formProducto.addEventListener("submit", function (e) {
    e.preventDefault();

    const producto = {
      nombre: document.getElementById("nombreProducto").value.trim(),
      descripcion: document.getElementById("descripcionProducto").value.trim(),
      precio: parseFloat(document.getElementById("precioProducto").value),
      stock: parseInt(document.getElementById("stockProducto").value),
      imagen: imagenBase64 || ""
    };

    const productos = obtenerProductos();
    productos.push(producto);
    guardarProductos(productos);
    agregarProductoVisual(producto);
    formProducto.reset();
    preview.src = "";
    preview.classList.add("d-none");
    imagenBase64 = "";
  });
</script>


</body>
</html>